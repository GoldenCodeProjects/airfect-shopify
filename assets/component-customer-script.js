!function(){"use strict";const e="[data-address]",t="aria-expanded";class n{constructor(){this._handleAddEditButtonClick=({currentTarget:e})=>{console.log(e),this._toggleExpanded(e)},this._handleCancelButtonClick=({currentTarget:t})=>{this._toggleExpanded(t.closest(e).querySelector("[aria-expanded]"))},this._handleDeleteButtonClick=({currentTarget:e})=>{confirm(e.getAttribute("data-confirm-message"))&&Shopify.postLink(e.dataset.target,{parameters:{_method:"delete"}})},this.elements=this._getElements(),0!==Object.keys(this.elements).length&&(this._setupCountries(),this._setupEventListeners())}_getElements(){const t=document.querySelector("[data-customer-addresses]");return t?{container:t,addressContainer:t.querySelector(e),toggleButtons:document.querySelectorAll("button[aria-expanded]"),cancelButtons:t.querySelectorAll('button[type="reset"]'),deleteButtons:t.querySelectorAll("button[data-confirm-message]"),countrySelects:t.querySelectorAll("[data-address-country-select]")}:{}}_setupCountries(){Shopify&&Shopify.CountryProvinceSelector&&(new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),this.elements.countrySelects.forEach((e=>{const t=e.dataset.formId;new Shopify.CountryProvinceSelector(`AddressCountry_${t}`,`AddressProvince_${t}`,{hideElement:`AddressProvinceContainer_${t}`})})))}_setupEventListeners(){console.log(this.elements.toggleButtons),this.elements.toggleButtons.forEach((e=>{e.addEventListener("click",this._handleAddEditButtonClick)})),this.elements.cancelButtons.forEach((e=>{e.addEventListener("click",this._handleCancelButtonClick)})),this.elements.deleteButtons.forEach((e=>{e.addEventListener("click",this._handleDeleteButtonClick)}))}_toggleExpanded(e){e.setAttribute(t,("false"===e.getAttribute(t)).toString())}}window.onload=()=>setTimeout((()=>{console.log("window.onload:",n),void 0!==n&&new n}),0)}();