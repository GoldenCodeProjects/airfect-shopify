!function(){"use strict";var e,t={1741:function(e,t,r){var s=r(6536),i=r(2401),n=r(2338),o=r(9127),c=r(2006),a=r(4975),h=r(4978),l=r(3610),u=r(9878),d=r(2817);class p extends HTMLElement{constructor(){super(),this.apiUrl="https://kat-manager.herokuapp.com/api/v1/products/all",this.rendering="true"===this.getAttribute("render"),this.form=this.querySelector('form[role="search"]'),this.input=this.querySelector('input[type="search"]'),this.closeBtn=this.querySelector("button[close]"),this.submitBtn=this.querySelector("#submit-bottom"),this.submitBtnText=this.querySelector("#submit-bottom span"),this.predictiveSearchContainer=this.querySelector("#predictive-search"),this.predictiveSearchResults=this.querySelector("#predictive-search-results"),this.overlayCreated=!1,this.items=[]}get searchUrlParam(){return new URLSearchParams(location.search).get("search")}connectedCallback(){this.searchUrlParam&&(this.input.value=this.searchUrlParam),this.setListeners()}setListeners(){this.closeBtn&&this.closeBtn.addEventListener("click",this.close.bind(this)),this.onFormSubmit(),this.rendering&&(this.onInputChange(),this.submitBtn&&this.submitBtn.addEventListener("click",(()=>this.gotoSearch(this.input.value))))}onInputChange(){return(0,i.R)(this.input,"input").pipe((0,n.b)(500),(0,o.U)((e=>String(e.target.value).trim())),(0,c.b)((e=>{this.submitBtnText&&(this.submitBtnText.innerHTML=`Buscar “${e}”`)})),(0,c.b)((e=>e.length?this.open():this.close())),(0,a.h)(Boolean),(0,h.w)((e=>(0,s.U)(`${this.apiUrl}?search=${e}`))),(0,h.w)((e=>e.ok?e.json():(0,l._)((()=>({error:!0,message:`Error ${e.status}`}))))),(0,o.U)((({products:e})=>e)),(0,u.K)((e=>(console.error(e),(0,d.of)({error:!0,message:e.message}))))).subscribe(this.renderProducts.bind(this))}onFormSubmit(){return(0,i.R)(this.form,"submit").pipe((0,c.b)((e=>e.preventDefault())),(0,o.U)((()=>this.input.value.trim())),(0,a.h)(Boolean)).subscribe(this.gotoSearch.bind(this))}gotoSearch(e){location.assign(`${location.origin}/collections/all?search=${e}`)}renderProducts(e){this.predictiveSearchResults.innerHTML="",this.items=e.map((e=>{const t=document.createElement("a");return t.classList.add("product"),t.href=`/products/${e.handle}`,t.innerHTML=`\n        <div class="product_image">\n          ${e.images[0]?`\n            <img src="${e.images[0]}&width=250">\n          `:'\n            <img src="http://cdn.shopify.com/s/files/1/0552/2315/6798/t/10/assets/placeholder.jpg?v=75785057495450869431669680134">\n          '}\n        </div>\n        <div class="product_content">\n          <div class="product_info">\n            <h3 class="product_title">${e.title}</h3>\n            <p class="product_description">${e.description}</p>\n            ${e.aplication?`\n              <p class="product_application">\n                <strong>Aplicación:</strong>\n                ${e.aplication}\n              </p>\n            `:""}\n            ${e.unitsPerPackage?`\n              <p class="product_items">\n                <strong>Items:</strong>\n                ${e.unitsPerPackage}\n              </p>\n            `:""}\n          </div>\n        </div>\n      `,t})),this.predictiveSearchResults.append(...this.items)}open(){this.rendering&&(this.classList.remove("-hide"),this.input.focus(),document.documentElement.style.overflow="hidden",this.overlayCreated||this.createOverlay())}close(){this.rendering&&(this.classList.add("-hide"),document.documentElement.style.overflow="auto",this.input.value="",this.removeOverlay())}createOverlay(){const e=document.createElement("div");e.classList.add("predictive-search-overlay"),document.body.appendChild(e),e.addEventListener("click",this.close.bind(this)),this.overlayCreated=!0}removeOverlay(){const e=document.querySelector(".predictive-search-overlay");e&&(e.remove(),e.removeEventListener("click",this.close.bind(this)),this.overlayCreated=!1)}}customElements.define("predictive-search",p);class m extends HTMLElement{constructor(){super(),this.button=this.querySelector("button"),this.searchElement=document.querySelector("predictive-search"),this.button.addEventListener("click",this.open.bind(this))}open(){this.searchElement.open()}}customElements.define("open-search",m)}},r={};function s(e){var i=r[e];if(void 0!==i)return i.exports;var n=r[e]={exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}s.m=t,e=[],s.O=function(t,r,i,n){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],n=e[l][2];for(var c=!0,a=0;a<r.length;a++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](r[a])}))?r.splice(a--,1):(c=!1,n<o&&(o=n));if(c){e.splice(l--,1);var h=i();void 0!==h&&(t=h)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[r,i,n]},s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.j=4370,function(){var e={4370:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,n,o=r[0],c=r[1],a=r[2],h=0;if(o.some((function(t){return 0!==e[t]}))){for(i in c)s.o(c,i)&&(s.m[i]=c[i]);if(a)var l=a(s)}for(t&&t(r);h<o.length;h++)n=o[h],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(l)},r=self.webpackChunkshopify_core=self.webpackChunkshopify_core||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var i=s.O(void 0,[1216],(function(){return s(1741)}));i=s.O(i)}();